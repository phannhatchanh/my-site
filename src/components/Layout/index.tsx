import * as React from 'react';
import { useState, useEffect, useMemo, useCallback } from 'react';
import { Helmet } from 'react-helmet';
import { useDispatch } from 'react-redux';
import { useStaticQuery, graphql } from 'gatsby';
import MobileDetect from 'mobile-detect';
import { config as FaConfig, dom as FaDom } from '@fortawesome/fontawesome-svg-core';
import { FontAwesomeIcon as Fa } from '@fortawesome/react-fontawesome';
import { faAngleDoubleUp } from '@fortawesome/free-solid-svg-icons';
import { useColorMode } from 'theme-ui';

import './layout.scss';
import '../../utils/google-fonts.scss';
import Header from '../Header';
import { actionCreators } from '../../state/actions';
import config from '../../../_config';
import { throttle } from 'lodash';

FaConfig.autoAddCss = false;

interface LayoutPropsType {
  children: React.ReactNode;
}

const Layout = (props: LayoutPropsType) => {
  const { children } = props;
  const [isTop, setIsTop] = useState(true);
  const dispatch = useDispatch();
  const [colorMode] = useColorMode();
  const isDark = useMemo(() => colorMode === 'dark', [colorMode]);

  const data = useStaticQuery(graphql`
    query SiteTitleQuery {
      site {
        siteMetadata {
          author
          title
        }
      }
    }
  `);

  const setTop = useCallback(
    throttle(() => setIsTop(window.pageYOffset < window.innerHeight / 2), 250),
    []
  );

  useEffect(() => {
    const md = new MobileDetect(window.navigator.userAgent);
    if (md.mobile()) {
      dispatch(actionCreators.setIsMobile(true));
    }

    document.addEventListener('scroll', setTop);
    return () => document.removeEventListener('scroll', setTop);
  }, []);

  return (
    <>
      <Helmet>
        <link rel="icon" href="data:image/png;base64,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" />
        <meta name="google-site-verification" content={config.googleSearchConsole ?? ''} />
        <style>{FaDom.css()}</style>
      </Helmet>

      <div id="layout" className={isDark ? 'dark' : 'light'}>
        <Header siteTitle={data.site.siteMetadata.title} />
        <div id="content">
          <main>{children}</main>
          <footer>
            <span>{`© 2019-${new Date().getFullYear()} ${data.site.siteMetadata.author}`}</span>
          </footer>
        </div>

        <div
          id="top"
          style={{
            opacity: isTop ? '0' : '1',
            pointerEvents: isTop ? 'none' : 'all',
          }}
          onClick={() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }}
        >
          <Fa icon={faAngleDoubleUp} />
        </div>
      </div>
    </>
  );
};

export default Layout;
